from typing import Any, Dict

from core.brevio.enums.category import CategoryType
from core.brevio.enums.language import LanguageType
from core.brevio.enums.output_format_type import OutputFormatType
from core.brevio.enums.source_type import SourceType
from core.brevio.enums.style import StyleType


class KoreanPrompts:
    INSTRUCTIONS_TITLE: str = "**지침:**"
    SPECIFIC_LANGUAGE_TITLE: str = "**지정 언어:** 한국어"
    SPECIFIC_LANGUAGE: str = "앞으로 모든 답변은 한국어로만 작성해야 합니다."
    EXAMPLE_TITLE: str = "**예시**:"

    TEMPLATES: Dict[str, Dict[str, Any]] = {
        "simple_summary": {
            "structures": {"default": ["추가 제목 없이 직접적인 요약"]},
            "styles": {
                "default": {
                    "tone": "중립적, 상황에 맞게 조정됨",
                    "elements": [],
                    "source_types": [
                        SourceType.PDF,
                        SourceType.DOCX,
                        SourceType.TEXT,
                        SourceType.VIDEO,
                        SourceType.AUDIO,
                    ],
                }
            },
            "rules": [
                "중복을 제거하고 간결하게 요약할 것",
                "원본 제목이 있는 경우 수정 없이 그대로 유지할 것 (예: # 제목, ## 소제목)",
                "원본 내용의 어조, 의도 및 구조에 완전히 맞출 것",
                "원본 텍스트에 명시적으로 없는 제목, 소제목을 추가하지 말 것",
                "핵심 예시나 개념은 원본 형식 그대로 유지할 것 (목록, 코드, 기울임꼴 등)",
                "주관적인 해석이나 불필요한 수정을 피할 것",
                "원본 내용이 명시하지 않는 한 단일 연속 텍스트 블록으로 작성할 것",
            ],
            "needs": "단순성과 원본 내용에 대한 충실도",
        },
        "journalism": {
            "structures": {
                "chronicle": [
                    "# [이벤트] 실시간",
                    "- **[MM:SS]** 주요 발언 또는 사실",
                    "- **[MM:SS]** 주요 순간 또는 진행 상황 설명",
                    "- **[MM:SS]** 이벤트에 대한 반응 또는 분석",
                ],
                "news_wire": [
                    "[날짜] - [장소] - 간결하고 직접적인 요약",
                    "### 주요 내용",
                    "- [주요 사실 1]",
                    "- [주요 사실 2]",
                    "### 배경",
                    "- [배경 정보]",
                    "### 통계 (해당 시)",
                    "- [통계 1]",
                    "- [통계 2]",
                    "### 영향",
                    "- [단기적 영향]",
                    "- [장기적 영향]",
                ],
                "analysis": [
                    "## [주제] 심층 분석",
                    "### 개요",
                    "- [주제에 대한 간략한 요약]",
                    "### 주요 측면",
                    "- [측면 1]: [상세 분석]",
                    "- [측면 2]: [상세 분석]",
                    "### 영향",
                    "- [단기적 영향]",
                    "- [장기적 영향]",
                    "### 전문가 의견",
                    "- [전문가 인용 또는 관점]",
                    "### 결론",
                    "- [주요 발견 사항 및 미래 전망 요약]",
                ],
            },
            "styles": {
                "chronicle": {
                    "tone": "서사적, 긴급함",
                    "elements": ["타임라인", "주요 순간", "반응"],
                    "source_types": [SourceType.VIDEO, SourceType.AUDIO],
                },
                "news_wire": {
                    "tone": "직접적, 정보 제공",
                    "elements": ["주요 내용", "배경", "통계", "영향"],
                    "source_types": [
                        SourceType.TEXT,
                        SourceType.VIDEO,
                        SourceType.AUDIO,
                    ],
                },
                "analysis": {
                    "tone": "분석적, 맥락적",
                    "elements": [
                        "개요",
                        "주요 측면",
                        "영향",
                        "전문가 의견",
                        "결론",
                    ],
                    "source_types": [SourceType.TEXT],
                },
            },
            "rules": [
                "실시간 기록에는 정확한 타임스탬프를 포함할 것",
                "해당 시 출처를 명시할 것",
                "뉴스 와이어에서는 의견을 피할 것",
                "뉴스 와이어의 주요 내용은 글머리 기호로 작성할 것",
                "뉴스 와이어에는 최소 하나의 통계 또는 데이터 포함할 것",
                "뉴스 와이어에는 단기적 및 장기적 영향 모두 강조할 것",
                "실시간 기록에는 주요 순간과 실시간 반응에 집중할 것",
                "분석에는 원인, 효과, 전문가 관점을 포함한 주제에 대한 깊은 탐구를 제공할 것",
            ],
            "needs": ["뉴스 와이어는 신속성, 실시간 기록은 상세함, 분석은 맥락"],
        },
        "marketing": {
            "structures": {
                "highlights": ["# ✨ [캠페인] - 하이라이트", "🎯 **핵심:** 가치"],
                "storytelling": [
                    "## [브랜드] - 이야기: [제목]",
                    "### 소개",
                    "- [감정적인 흥미 유발 또는 설정]",
                    "### 주요 내용",
                    "- [주요 사건 또는 전환점]",
                    "- [도전 또는 갈등]",
                    "- [해결 또는 결과]",
                    "### 감정적 영향",
                    "- [이야기가 청중에게 주는 느낌]",
                    "### 행동 촉구",
                    "- [브랜드 또는 제품 참여 유도]",
                ],
                "report": [
                    "## [캠페인] - 결과",
                    "### 개요",
                    "- [캠페인 및 목표에 대한 간략한 요약]",
                    "### 주요 지표",
                    "| **지표** | **목표** | **실적** | **차이** |",
                    "|------------|----------|------------|--------------|",
                    "| [지표 1] | [목표 1] | [실적 1] | [차이 1] |",
                    "| [지표 2] | [목표 2] | [실적 2] | [차이 2] |",
                    "### 분석",
                    "- [결과에 대한 상세 분석, 성공과 도전 과제]",
                    "### 권장 사항",
                    "- [데이터 기반 실행 가능한 권장 사항]",
                    "### 결론",
                    "- [주요 발견 사항 및 다음 단계 요약]",
                ],
            },
            "styles": {
                "highlights": {
                    "tone": "매력적, 시각적",
                    "elements": ["이모지", "글머리 기호"],
                    "source_types": [
                        SourceType.TEXT,
                        SourceType.VIDEO,
                        SourceType.AUDIO,
                    ],
                },
                "storytelling": {
                    "tone": "감정적, 몰입감 있는",
                    "elements": ["이야기", "감정적 흥미 유발", "행동 촉구"],
                    "source_types": [SourceType.TEXT],
                },
                "report": {
                    "tone": "분석적, 명확한",
                    "elements": ["표", "분석", "권장 사항"],
                    "source_types": [SourceType.TEXT],
                },
            },
            "rules": [
                "하이라이트와 스토리텔링에는 매력적인 언어 사용할 것",
                "보고서에는 KPI 포함할 것",
                "지나친 전문 용어는 피할 것",
                "스토리텔링에는 감정적 연결과 이야기 흐름에 집중할 것",
            ],
            "needs": "시각적 영향, 감정적 연결, 실행 가능한 데이터",
        },
        "health": {
            "structures": {
                "report": [
                    "**[연구/치료] - 임상 보고서:**",
                    "결과와 효능에 초점을 둔 간결한 기술적 문단",
                ],
                "summary": [
                    "# 🩺 [주제] - 요약",
                    "📈 **지표:** 결과",
                    "| 주 | 진행 상황 |",
                ],
                "case": ["**[환자] - 임상 사례:**", "상세한 서술"],
            },
            "styles": {
                "report": {
                    "tone": "공식적, 정확한, 증거 기반",
                    "elements": ["정량적_데이터", "임상_결과"],
                    "source_types": [SourceType.TEXT],
                },
                "summary": {
                    "tone": "시각적, 접근 가능한",
                    "elements": ["글머리_기호", "표"],
                    "source_types": [SourceType.TEXT, SourceType.VIDEO],
                },
                "case": {
                    "tone": "서사적, 임상적",
                    "elements": ["서술"],
                    "source_types": [
                        SourceType.TEXT,
                        SourceType.AUDIO,
                        SourceType.VIDEO,
                    ],
                },
            },
            "rules": [
                "가능한 경우 정량적이고 측정 가능한 데이터를 포함할 것",
                "과학적 엄격성을 유지하고 주관적인 언어는 피할 것",
                "대상에 따라 언어 복잡성 조정 (의료진에게는 기술적, 환자에게는 단순화)",
                "의료 정보의 명확성, 정확성, 접근성 보장할 것",
            ],
            "needs": {
                "doctors": "정보에 기반한 결정을 위한 명확하고 정확한 임상 데이터",
                "patients": "질환 및 치료에 대한 접근 가능하고 이해하기 쉬운 설명",
                "researchers": "분석을 위한 강력하고 데이터 기반 정보",
            },
        },
        "technology": {
            "structures": {
                "changelog": [
                    "# [버전] - 업데이트",
                    "✨ **새로운 기능:**",
                    "- 기능",
                    "🐛 **수정 사항:**",
                    "- 수정",
                ],
                "proposal": [
                    "# [프로젝트] - 기술 제안서",
                    "## 소개",
                    "프로젝트, 목표 및 해결하려는 문제에 대해 간략히 설명합니다.",
                    "## 목표",
                    "- 목표 1: 프로젝트의 첫 번째 목표 설명.",
                    "- 목표 2: 프로젝트의 두 번째 목표 설명.",
                    "## 기술적 접근 방식",
                    "사용할 도구, 프레임워크 및 방법론을 포함한 기술적 솔루션 설명.",
                    "### 주요 기능",
                    "- 기능 1: 첫 번째 주요 기능 설명.",
                    "- 기능 2: 두 번째 주요 기능 설명.",
                    "## 이점",
                    "효율성, 확장성 또는 비용 절감과 같은 제안 솔루션의 장점 강조.",
                    "## 구현 계획",
                    "솔루션 구현을 위한 상위 레벨 타임라인 또는 단계 제공.",
                    "## 위험 및 완화",
                    "잠재적 위험 식별 및 완화 전략 제안.",
                    "## 결론",
                    "제안서 요약 및 그 가치 재확인.",
                ],
                "diagram": [
                    "# [프로세스] - 흐름",
                    "```mermaid",
                    "graph TD",
                    "  A[시작] --> B{결정?}",
                    "  B -->|예| C[프로세스 1]",
                    "  B -->|아니오| D[프로세스 2]",
                    "  C --> E[종료]",
                    "  D --> E",
                    "```",
                    "**주석:**",
                    "- **A**: 프로세스 시작.",
                    "- **B**: 결정 지점.",
                    "- **C/D**: 대체 경로.",
                    "- **E**: 프로세스 종료.",
                    "**색상:**",
                    "- **초록**: 성공 경로 (예: 사용자 로그인).",
                    "- **빨강**: 대체 경로 (예: 사용자 로그인 안 됨).",
                    "**범례:**",
                    "- **사각형**: 프로세스 단계.",
                    "- **다이아몬드**: 결정 지점.",
                    "- **원형**: 시작/종료 지점.",
                ],
            },
            "styles": {
                "changelog": {
                    "tone": "기술적, 간결한",
                    "elements": ["글머리_기호"],
                    "source_types": [SourceType.TEXT, SourceType.PDF, SourceType.DOCX],
                },
                "proposal": {
                    "tone": "설득력 있는, 명확한, 구조화된",
                    "elements": ["제목", "글머리_기호", "표"],
                    "source_types": [SourceType.TEXT, SourceType.PDF, SourceType.DOCX],
                },
                "diagram": {
                    "tone": "시각적, 설명적, 모듈식",
                    "elements": ["mermaid", "색상", "주석", "범례"],
                    "source_types": [
                        SourceType.TEXT,
                        SourceType.PDF,
                        SourceType.DOCX,
                        SourceType.VIDEO,
                        SourceType.AUDIO,
                    ],
                },
            },
            "rules": [
                "프로젝트와 관련된 특정 기술 용어 사용할 것.",
                "이해 관계자를 설득하기 위해 제안 솔루션의 이점 강조할 것.",
                "명확하고 구조화된 구현 계획 포함할 것.",
                "잠재적 위험 및 완화 전략 다룰 것.",
                "가독성 향상을 위해 글머리 기호와 제목 사용할 것.",
                "제안서를 지원하기 위한 구체적인 예시 또는 사례 연구 제공할 것.",
                "제안서가 모듈식이고 쉽게 업데이트될 수 있도록 할 것.",
                "제안서의 가치를 요약하는 결론 포함할 것.",
            ],
            "needs": "이해 관계자 설득, 기술적 접근 방식의 명확성, 구조화된 문서화, 실행 가능한 통찰력",
        },
        "education": {
            "structures": {
                "guide": [
                    "# 📚 [주제] - 가이드",
                    "## [섹션]",
                    "- **개념:** 실제 예시와 적용을 포함한 설명.",
                ],
                "quick_ref": [
                    "**[주제] - 빠른 참조:**",
                    "- [핵심 포인트]: 명확한 실제 맥락과 함께 간결하고 실행 가능한 요약.",
                ],
                "timeline": [
                    "# 🎥 [수업] - 타임라인",
                    "- **[MM:SS]** [핵심 개념 또는 수행된 작업]: [결과 또는 작업과 함께 명확하고 간결한 설명, 실제 적용 강조].",
                ],
            },
            "styles": {
                "guide": {
                    "tone": "교육적, 구조화된, 더 나은 이해를 위한 예시 포함",
                    "elements": [
                        "하위 섹션",
                        "글머리_기호",
                        "예시",
                        "실제_적용",
                    ],
                    "source_types": [SourceType.TEXT, SourceType.PDF, SourceType.DOCX],
                },
                "quick_ref": {
                    "tone": "간결한, 실용적인, 빠른 학습 및 적용을 위해 설계됨",
                    "elements": ["글머리_기호", "명확한_요약"],
                    "source_types": [SourceType.TEXT, SourceType.PDF, SourceType.DOCX],
                },
                "timeline": {
                    "tone": "시간 순서적, 행동 중심적, 실제 적용 강조하며 명확함",
                    "elements": [
                        "타임라인",
                        "단계별_행동",
                        "시각적_신호",
                        "실제_맥락",
                    ],
                    "source_types": [SourceType.VIDEO, SourceType.AUDIO],
                },
            },
            "rules": [
                "더 나은 이해를 위해 실제 예시와 함께 명확하고 실행 가능한 설명 제공할 것.",
                "실제 적용에 초점을 맞추며 정보를 간결하지만 포괄적으로 유지할 것.",
                "학습 목표 및 맥락과의 일관성 보장할 것.",
                "특히 실제 사용 사례를 위한 명확성과 유용성 강조할 것.",
            ],
            "needs": "학습 용이성, 빠른 참조, 실제 통찰력을 포함한 비디오 추적.",
        },
        "architecture": {
            "structures": {
                "chronicle": [
                    "# 🏛️ [프로젝트] - 연대기",
                    "- **[MM:SS]** 강조된 요소",
                ],
                "report": [
                    "**[프로젝트] - 기술 보고서:**",
                    "주요 세부 사항이 포함된 단락",
                ],
                "list": ["# [프로젝트] - 세부 사항", "- **측면:** 설명"],
            },
            "styles": {
                "chronicle": {
                    "tone": "서사적, 시각적",
                    "elements": ["타임라인"],
                    "source_types": [SourceType.VIDEO],
                },
                "report": {
                    "tone": "기술적, 상세한",
                    "elements": [],
                    "source_types": [SourceType.TEXT],
                },
                "list": {
                    "tone": "설명적, 조직화된",
                    "elements": ["글머리_기호"],
                    "source_types": [SourceType.TEXT],
                },
            },
            "rules": [
                "혁신 또는 지속 가능성 강조할 것",
                "해당 시 기술 데이터 포함할 것",
                "시각적으로 매력적으로 만들 것",
            ],
            "needs": "기술 문서화, 매력적인 프레젠테이션, 비디오 추적",
        },
        "finance": {
            "structures": {
                "report": [
                    "# 💰 [기간] - 재무 보고서",
                    "- **지표**: [값]",
                ],
                "table": [
                    "## [기간] - 재무 요약",
                    "| **지표** | **값** |",
                ],
                "executive": [
                    "**[기간] - 경영진 요약:**",
                    "주요 통찰력을 강조하는 간결하고 영향력 있는 단락.",
                ],
            },
            "styles": {
                "report": {
                    "tone": "분석적, 공식적",
                    "elements": ["글머리_기호"],
                    "source_types": [
                        SourceType.TEXT,
                        SourceType.PDF,
                        SourceType.DOCX,
                        SourceType.VIDEO,
                        SourceType.AUDIO,
                    ],
                },
                "table": {
                    "tone": "시각적, 간결한",
                    "elements": ["표"],
                    "source_types": [SourceType.TEXT, SourceType.PDF, SourceType.DOCX],
                },
                "executive": {
                    "tone": "직접적, 경영진",
                    "elements": [],
                    "source_types": [SourceType.TEXT, SourceType.PDF, SourceType.DOCX],
                },
            },
            "rules": [
                "주요 수치를 제시할 때 명확성과 간결성 보장할 것.",
                "데이터 제시 시 모호함 피할 것.",
                "실행 가능한 통찰력 제공하여 의사 결정 지원할 것.",
                "표 제목은 이중 별표 앞뒤로 추가 공백 없이 서식 지정해야 함.",
            ],
            "needs": "실행 가능한 데이터, 명확한 시각적 종합, 영향에 초점을 둔 경영진 요약.",
        },
        "tourism": {
            "structures": {
                "chronicle": [
                    "# 🌍 [목적지] - 연대기",
                    "- **[MM:SS]** 이니셔티브",
                    "- **[MM:SS]** 주요 이정표",
                ],
                "report": [
                    "**[목적지] - 정책:**",
                    "목적지의 목표와 관광에 미치는 영향에 중점을 둔 공식 단락",
                ],
                "list": [
                    "# [목적지] - 이니셔티브",
                    "- **영역:** 세부 사항 (현지 문화 또는 명소 추가 고려).",
                ],
            },
            "styles": {
                "chronicle": {
                    "tone": "서사적, 매력적, 몰입감 있는",
                    "elements": ["타임라인", "스토리텔링"],
                    "source_types": [SourceType.AUDIO, SourceType.VIDEO],
                },
                "report": {
                    "tone": "공식적, 정보 제공, 객관적",
                    "elements": [],
                    "source_types": [SourceType.TEXT],
                },
                "list": {
                    "tone": "설명적, 명확한, 정보 제공",
                    "elements": ["글머리_기호", "간결한_사실"],
                    "source_types": [SourceType.TEXT],
                },
            },
            "rules": [
                "지속 가능성, 문화적 중요성 및 관광객에게 매력적인 점 강조할 것.",
                "실용적인 여행 정보 포함할 것 (예: 최적의 방문 시기, 현지 명소, 필수 연락처).",
                "정책 및 이니셔티브에 대한 명확하고 간결하며 정확한 설명에 집중할 것.",
                "과장하지 말고 현실적이고 정보 제공적으로 유지할 것.",
            ],
            "needs": "정보 제공 하이라이트와 함께 매력적인 홍보, 정책의 명확한 프레젠테이션, 관광객 중심의 실용적인 세부 사항.",
        },
    }

    EXAMPLES = {
        "simple_summary": {
            "default": "내용은 2025년 3월 8일에 발표된 세금 감면 및 신용 한도를 포함한 경제 조치를 설명합니다."
        },
        "journalism": {
            "chronicle": (
                "# 애플 이벤트 실시간\n"
                "- **[00:03:00]** 팀 쿡이 애플 기기에 통합된 새로운 AI 시스템인 애플 인텔리전스를 소개합니다.\n"
                "- **[00:05:11]** 애플 워치 시리즈 10 발표, 더 큰 디스플레이와 얇은 디자인 강조.\n"
                "- **[00:07:03]** 새로운 OLED 디스플레이 시연, 비스듬한 각도에서 40% 더 밝음.\n"
                "- **[00:09:06]** 시리즈 10이 시리즈 9보다 10% 더 얇아졌으며 두께는 9.7mm에 불과하다고 발표.\n"
                "- **[00:10:19]** 빠른 충전 소개: 30분 만에 80% 배터리 충전.\n"
                "- **[00:11:03]** 광택 처리된 티타늄 마감 공개, 스테인리스 스틸보다 20% 가벼움.\n"
                "- **[00:12:00]** 지속 가능성 강조: 제조 과정에서 95% 재활용 티타늄 및 100% 재생 에너지 사용.\n"
                "- **[00:13:50]** 새로운 건강 기능: 수면 무호흡증 감지 및 배란 추적을 위한 체온 모니터링.\n"
                "- **[00:15:19]** 수면 무호흡증 감지의 중요성 논의, 전 세계적으로 80%의 사례가 진단되지 않음."
            ),
            "news_wire": (
                "[2025년 3월 8일] - 수도 - 대통령이 경제 조치를 발표했습니다.\n"
                "### 주요 내용\n"
                "- 중산층 가정을 위한 세금 감면.\n"
                "- 인프라 프로젝트에 대한 지출 증가.\n"
                "### 배경\n"
                "- 인플레이션 증가 속에서 경제 성장 촉진을 목표로 하는 조치.\n"
                "### 통계\n"
                "- 2025년 GDP 성장 전망: 2.5%.\n"
                "- 실업률: 5.8% (작년 6.3%에서 하락).\n"
                "### 영향\n"
                "- 단기적: 중산층 가정에 즉각적인 완화.\n"
                "- 장기적: 경제 성장 촉진 및 일자리 창출 예상."
            ),
            "analysis": (
                "## 세금 개혁 심층 분석\n"
                "### 개요\n"
                "- 최근 세금 개혁은 중산층의 세금 부담을 줄이고 인프라 프로젝트에 대한 지출을 늘려 경제 성장을 촉진하는 것을 목표로 합니다.\n"
                "### 주요 측면\n"
                "- **세금 감면**: 중산층 가정을 위한 10% 세금 감면, 가처분 소득 및 소비 지출 증가 기대.\n"
                "- **인프라 투자**: 인프라 프로젝트에 대한 지출 증가, 일자리 창출 및 공공 서비스 개선 목표.\n"
                "### 영향\n"
                "- **단기적**: 중산층 가정에 즉각적인 완화, 소비 지출 및 경제 활동 증가 가능성.\n"
                "- **장기적**: 경제 성장 촉진, 일자리 창출 및 공공 인프라 개선으로 더 강력한 경제 기대.\n"
                "### 전문가 의견\n"
                "- '이 세금 개혁은 소득 불평등을 줄이고 경제 성장을 촉진하기 위한 중요한 단계입니다,' 하버드 대학교 경제학자 제인 도 박사가 말했습니다.\n"
                "### 결론\n"
                "- 세금 개혁은 개인과 광범위한 경제 모두에게 잠재적 이점을 제공하는 경제적 도전에 대한 균형 잡힌 접근 방식을 나타냅니다. 그러나 장기적 성공은 효과적인 실행 및 모니터링에 달려 있습니다."
            ),
        },
        "marketing": {
            "highlights": "# ✨ 에코라이프 출시 - 하이라이트\n🎯 **타겟:** 청년.\n📈 **매출:** +15%.",
            "storytelling": (
                "## 에코라이프 - 이야기: 지속 가능성으로의 여정\n"
                "### 소개\n"
                "- 분주한 도시에서 마리아라는 젊은 여성이 빠른 삶과 주변의 환경적 도전에 압도당했습니다.\n"
                "### 주요 내용\n"
                "- 어느 날, 마리아는 지속 가능한 생활에 전념하는 브랜드인 에코라이프를 발견했습니다. 그녀는 그들의 친환경 제품을 사용하기 시작하고 생활 방식에서 큰 변화를 느꼈습니다.\n"
                "- 친구들의 초기 회의론에도 불구하고, 마리아의 지속 가능성에 대한 헌신은 그들도 이 여정에 참여하도록 영감을 주었습니다.\n"
                "### 감정적 영향\n"
                "- 마리아의 이야기는 작은 변화가 어떻게 개인적 및 환경적으로 큰 영향을 미칠 수 있는지 보여줍니다.\n"
                "### 행동 촉구\n"
                "- 마리아와 수천 명의 다른 사람들과 함께 하세요. 오늘 에코라이프와 함께 지속 가능성 여정을 시작하세요!"
            ),
            "report": (
                "## 에코라이프 - 결과\n"
                "### 개요\n"
                "- 에코라이프 캠페인은 지속 가능한 생활을 홍보하여 청년들 사이에서 브랜드 인지도와 매출을 높이는 것을 목표로 했습니다.\n"
                "### 주요 지표\n"
                "| **지표**       | **목표** | **실적** | **차이** |\n"
                "|------------------|----------|------------|--------------|\n"
                "| 매출 증가   | +15%     | +18%       | +3%          |\n"
                "| 소셜 미디어 도달 | 1M      | 1.2M       | +200K        |\n"
                "### 분석\n"
                "- 캠페인은 강력한 소셜 미디어 참여와 인플루언서 파트너십 덕분에 매출 목표를 3% 초과했습니다.\n"
                "- 소셜 미디어 도달은 기대를 뛰어넘었으며, 이는 효과적인 콘텐츠 전략과 대상 타겟팅을 나타냅니다.\n"
                "### 권장 사항\n"
                "- 추진력을 유지하기 위해 인플루언서 파트너십을 계속 활용할 것.\n"
                "- 지속 가능성에 대한 교육적 게시물을 더 포함하도록 콘텐츠 전략 확장할 것.\n"
                "### 결론\n"
                "- 에코라이프 캠페인은 브랜드 인지도와 매출을 성공적으로 증가시켜 향후 이니셔티브를 위한 강력한 기반을 마련했습니다."
            ),
        },
        "health": {
            "report": "**치료 X - 임상 보고서:** 임상 시험에서 8주간의 꾸준한 치료 후 증상이 70% 감소했습니다.",
            "summary": "# 🩺 치료 X - 요약\n📈 **효능:** 70%.\n| 주 | 진행 상황 |\n| 8    | 70%     |",
            "case": "**환자 A - 임상 사례:** 62세 남성이 2주 후 개선을 보였습니다.",
        },
        "technology": {
            "changelog": "# v3.0 - 업데이트\n✨ **새로운 기능:**\n- OCR.\n🐛 **수정 사항:**\n- 내보내기.",
            "proposal": """
                    # 프로젝트 X - 기술 제안서

                    ## 소개
                    이 제안서는 데이터 처리 효율성을 개선하기 위한 자동화된 API 통합 시스템 구현에 대한 기술적 접근 방식을 설명합니다.

                    ## 목표
                    - 목표 1: 수동 데이터 입력을 50% 줄입니다.
                    - 목표 2: 데이터 처리 속도를 30% 증가시킵니다.

                    ## 기술적 접근 방식
                    솔루션은 API 개발을 위해 Python과 Flask, 컨테이너화를 위해 Docker, 오케스트레이션을 위해 Kubernetes를 사용합니다.

                    ### 주요 기능
                    - 기능 1: 여러 소스에서 자동화된 데이터 수집.
                    - 기능 2: 실시간 데이터 검증 및 오류 처리.

                    ## 이점
                    - **효율성**: 수동 작업을 줄이고 데이터 처리 속도를 높입니다.
                    - **확장성**: 증가하는 데이터 볼륨을 쉽게 처리할 수 있습니다.
                    - **비용 절감**: 반복적인 작업을 자동화하여 운영 비용을 줄입니다.

                    ## 구현 계획
                    1. **단계 1**: API 개발 및 테스트 (2주).
                    2. **단계 2**: 기존 시스템과의 배포 및 통합 (3주).
                    3. **단계 3**: 모니터링 및 최적화 (1주).

                    ## 위험 및 완화
                    - **위험 1**: 배포 중 API 가동 중지.
                    - **완화**: 가동 중지 시간을 최소화하기 위해 롤링 업데이트 전략 구현.
                    - **위험 2**: 데이터 검증 오류.
                    - **완화**: 초기에 오류를 발견하기 위해 자동화된 테스트 사용.

                    ## 결론
                    이 제안서는 데이터 처리 자동화를 위한 강력한 솔루션을 제시하며, 상당한 효율성 향상과 비용 절감을 제공합니다.
                """,
            "diagram": "# 사용자 인증 - 흐름\n```mermaid\ngraph TD\n  A[시작] --> B{사용자 로그인?}\n  B -->|예| C[대시보드 표시]\n  B -->|아니오| D[로그인으로 리디렉션]\n  C --> E[종료]\n  D --> E\n```\n**주석:**\n- **A**: 프로세스 시작.\n- **B**: 결정 지점.\n- **C/D**: 대체 경로.\n- **E**: 프로세스 종료.\n**색상:**\n- **초록**: 성공 경로 (사용자 로그인).\n- **빨강**: 대체 경로 (사용자 로그인 안 됨).\n**범례:**\n- **사각형**: 프로세스 단계.\n- **다이아몬드**: 결정 지점.\n- **원형**: 시작/종료 지점.",
        },
        "education": {
            "guide": "# 📚 [주제] - 가이드\n## [섹션]\n- **개념:** 실제 예시와 사용법을 포함한 설명.",
            "quick_ref": "**[주제] - 빠른 참조:**\n- [핵심 포인트]: 간결하고 실행 가능한 요약.",
            "timeline": "# 🎥 [수업] - 타임라인\n- **[MM:SS]** [핵심 개념 또는 수행된 작업]: [결과 또는 작업과 함께 간결하고 명확한 설명].",
        },
        "architecture": {
            "chronicle": "# 🏛️ 그린 타워 - 연대기\n- **[01:15]** 지속 가능한 재료.",
            "report": "**그린 타워 - 기술 보고서:** 설계는 재생 가능한 에너지를 사용합니다.",
            "list": "# 그린 타워 - 세부 사항\n- **재료:** 재활용.\n- **에너지:** 태양광.",
        },
        "finance": {
            "report": "# 💰 2025년 1분기 - 재무 보고서\n- **수익:** 기술 발전과 시장 확장으로 인한 5% 성장.",
            "table": "## 2025년 1분기 - 재무 요약\n| **지표** | **값** |\n|---------------|-----------|\n| 수익       | +5%       |",
            "executive": "**2025년 1분기 - 경영진 요약:** 기술 발전과 전략적 시장 확장으로 인한 5% 성장, 재무 전망 강화.",
        },
        "tourism": {
            "chronicle": "# 🌍 블루 비치 - 연대기\n- **[01:00]** 생태 관광 이니셔티브가 폐기물 감소에 도움.\n- **[05:00]** 주요 친환경 호텔 개발.",
            "report": "**블루 비치 - 정책:** 폐기물 감소 및 생태 관광 지원을 통해 지속 가능성을 촉진합니다. 지방 정부는 2030년까지 탄소 중립을 목표로 재생 에너지 및 폐기물 감소에 집중합니다.",
            "list": "# 블루 비치 - 이니셔티브\n- **생태:** 플라스틱 사용 감소, 재활용 이니셔티브 증가.\n- **관광 매력:** 5월부터 9월까지 성수기와 함께 연중 활동 제공.",
        },
    }

    def get_prompt_base(
        self,
        category: CategoryType,
        style: StyleType,
        output_format: OutputFormatType,
        spec: Any,
        style_info: Any,
    ) -> list[str]:
        return [
            f"# {category.value.title()} - {style.value.title()}용 프롬프트",
            f"**목표:** {output_format.value.upper()} 형식의 콘텐츠를 생성하고 {category.value.title()}에 최적화",
            f"**스타일:** {style.value.title()} ({style_info['tone']})",
            f"**기본 요구 사항:** {spec.get('needs', '컨텍스트에 맞게 조정')}",
            "",
        ]

    def get_mandatory_rules_prompt(self, generator: Any) -> list[str]:
        return [
            "‘텍스트가 이제 반복 없이 명확하고 일관됩니다’와 같은 일반적인 문구는 피하고, 구체적이고 명확한 피드백에 집중하세요.",
            "‘수정된 텍스트입니다. 중복과 반복이 제거되었지만 모든 세부사항과 원래 구조는 유지됩니다’와 같은 문구를 포함하지 마세요.",
            "어떤 경우에도 ```markdown 태그를 포함하지 마세요. 코드 블록을 사용하는 경우 언어를 지정하지 않거나 Markdown 이외의 언어를 사용해야 합니다.",
            f"앞으로 원문의 언어와 관계없이 한국어로만 답변하세요.",
        ]

    def get_summary_level_prompt(self, generator: Any, word_limit: str) -> str:
        return f"- 문서를 전체적으로 요약하고, 주요 주제, 핵심 포인트, 전체 목적을 약 {word_limit} 단어로 강조하세요."

    async def get_summary_chunk_prompt(
        self, generator: Any, previous_context: str
    ) -> str:
        prompt = f"""
            이전 텍스트의 컨텍스트: {previous_context}\n
            지침: 다음 텍스트를 상세하게 요약하고 새로운 정보를 이전 컨텍스트와 일관되게 통합하세요.
            예시, 설명 및 학습에 도움이 되는 세부 사항을 포함하세요.
            이해를 돕기 위해 요약을 섹션 또는 주요 포인트로 구성하세요."""
        return prompt

    async def get_postprocess_prompt(self, generator: Any) -> str:
        prompt = f"""당신은 중복 제거를 통해 텍스트를 개선하는 전문가 편집자입니다.
            다음 요약을 검토하고 반복되거나 중복된 정보만 제거하세요.
            반복된 텍스트, 구문, 아이디어 등.
            내용을 단순화, 축소 또는 요약하지 말고 모든 세부 사항, 데이터 및 중요한 요소를 그대로 유지하세요.
            최종 텍스트가 명확하고 일관되며 구조와 원래 의미를 변경하지 않고 잘 정리되었는지 확인하세요."""
        return prompt
